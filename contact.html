<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kontakt – Hochzeit Eduard & Joanne</title>
  
  <!-- SEO -->
  <meta name="description" content="Kontakt zum Brautpaar und Team: Stelle Fragen oder sende uns eine Nachricht.">
  <meta name="theme-color" content="#d26b58">

  <!-- Social Sharing -->
  <meta property="og:type" content="website">
  <meta property="og:locale" content="de_DE">
  <meta property="og:title" content="Kontakt – Hochzeit Eduard & Joanne">
  <meta property="og:description" content="Schreib uns bei Fragen zur Hochzeit.">
  <meta property="og:image" content="img/backgroundImage.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Kontakt – Hochzeit Eduard & Joanne">
  <meta name="twitter:description" content="Schreib uns bei Fragen zur Hochzeit.">
  <meta name="twitter:image" content="img/backgroundImage.png">
  <link rel="manifest" href="site.webmanifest">
  <!-- Farbvariablen und Basis‑Styles -->
  <link rel="stylesheet" href="assets/css/variables.css">
  <link rel="stylesheet" href="assets/css/basic.css">
  <!-- Spezifisches Styling für Kontakt-Seite -->
  <link rel="stylesheet" href="assets/css/contact.css">
  
  <!-- Header/Footer Include (vanilla) -->
  <script defer src="assets/js/includeTemplate.js"></script>
</head>
<body>
  <!-- Accessibility: Skip link for keyboard users -->
  <a class="skip-link" href="#main">Zum Inhalt springen</a>

  <!-- Header-Include -->
  <div id="header"></div>

<!-- Kontakt-Seite: Kontaktinformationen und Formular -->
  <!-- Hero-Sektion -->
  <section class="hero">
    <h1>Kontakt</h1>
    <p>Habt ihr Fragen oder möchtet uns etwas mitteilen? Wir freuen uns auf eure Nachricht!</p>
  </section>

  <main id="main" class="content">
    <!-- Kontakt-Inhalte -->
    <section class="content card">
      <!-- Kontaktinformationen -->
      <div class="contact-details">
        <h2>Kontaktinformationen</h2>
        <div class="contact-card">
          <h3>Brautpaar</h3>
          <p><strong>Eduard & Joanne</strong></p>
          <p><strong>E‑Mail:</strong> <a href="mailto:eduard.wayz@gmail.com">eduard.wayz@gmail.com</a></p>
          <p><strong>Telefon:</strong> +49 30 123456789</p>
        </div>

        <div class="contact-card">
          <h3>Trauzeugen</h3>
          <p><strong>Max Mustermann (Trauzeuge)</strong><br>
          <a href="mailto:eduard.wayz@gmail.com">eduard.wayz@gmail.com</a><br>
          Tel: +49 30 987654321</p>
          
          <p><strong>Anna Schmidt (Trauzeugin)</strong><br>
          <a href="mailto:eduard.wayz@gmail.com">eduard.wayz@gmail.com</a><br>
          Tel: +49 30 456789123</p>
        </div>

        <div class="contact-card">
          <h3>Wichtige Hinweise</h3>
          <ul>
            <li>Bitte meldet euch bei Fragen zur Anfahrt oder Unterkunft</li>
            <li>Für spezielle Essenswünsche oder Allergien</li>
            <li>Bei Fragen zur Geschenkeliste</li>
            <li>Für organisatorische Anliegen</li>
          </ul>
        </div>
      </div>

      <!-- Kontaktformular -->
      <div class="contact-form">
        <h2>Kontaktformular</h2>
        <form class="form">
          <div class="form-group">
            <label for="name">Name</label>
            <input type="text" id="name" name="Name" placeholder="Dein Name" required>
          </div>
          
          <div class="form-group">
            <label for="emailInput">E‑Mail</label>
                        <input type="email" id="emailInput" name="E-Mail" placeholder="deine@mail.de" required>
          </div>

          <div class="form-group">
            <label for="subject">Betreff</label>
            <select id="subject" name="Betreff" required>
              <option value="">Bitte wählen</option>
              <option value="anfahrt">Frage zur Anfahrt</option>
              <option value="unterkunft">Frage zur Unterkunft</option>
              <option value="essen">Essenswünsche/Allergien</option>
              <option value="geschenke">Frage zu Geschenken</option>
              <option value="organisation">Organisatorisches</option>
              <option value="sonstiges">Sonstiges</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="message">Nachricht</label>
            <textarea id="message" name="Nachricht" rows="5" placeholder="Deine Nachricht..." required></textarea>
          </div>

          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" name="newsletter" value="yes">
              Ich möchte über wichtige Updates zur Hochzeit informiert werden
            </label>
          </div>

          <button type="submit" class="btn">Nachricht senden</button>
        </form>
      </div>
    </section>
  </main>

  <!-- Footer-Include -->
  <div id="footer"></div>
  <noscript>
    <div class="noscript-warning">Bitte aktivieren Sie JavaScript, um Navigation und Inhalte vollständig zu sehen.</div>
  </noscript>

  <script>
    const form = document.querySelector('.form');
    const submitButton = form.querySelector('button[type="submit"]');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      submitButton.classList.add('loading');
      submitButton.disabled = true;

      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());

      try {
        const response = await fetch('https://us-central1-hochzeiteduardjoanne.cloudfunctions.net/sendContactMail/sendContactMail', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data),
        });

        if (response.ok) {
          alert('Vielen Dank für deine Nachricht! Wir werden uns so schnell wie möglich bei dir melden.');
          form.reset();
        } else {
          throw new Error('Beim Senden der Nachricht ist ein Fehler aufgetreten.');
        }
      } catch (error) {
        console.error(error);
        alert(error.message);
      } finally {
        submitButton.classList.remove('loading');
        submitButton.disabled = false;
      }
    });
  </script>
</body>
</html>
